# 计算机组成与设计-软件/硬件接口 ARM版本 笔记



## 序：

这是一篇读书笔记



## 并行编程

> 书在P43中举了一个例子：假设现在有一个新闻事件需要记者去报道，本着人多力量大的原则，或许可以让8个人一起撰写新闻稿；总的来说8个人写一篇稿子的效率是有可能能达到1个人的8倍的，但是很明显，真的要达到8倍并不容易，需要做很完美的安排8个人才有可能达到这个目标；为了提升协作效率，我们应当考虑以下几个事情：
>
> 1. 首先需要进行任务的规划，将撰写任务划分成可以被一同执行的部分
> 2. 要做好负载均衡，保证每个人的任务量基本相当，避免有人空闲，有人忙死
> 3. 任务A可能依赖于其他人的任务B，只有其他人做完了对应的任务B之后，这个任务A才能开始；这时需要引入 `同步` 的概念；降低同步的资源消耗对于提升协作效率也是至关重要的；

上面这个例子很形象的说明了并行编程所面临的问题，该书使用5部分对上述问题进行了初步的说明；





### 2.11 并行（parallelism）与指令：同步

注：此处parallelism翻译为，并行（请注意并行与并发的区别）

如果任务（tasks）之间相互没有关联，那么平行运行他们是相对简单的；可不幸的是任务之间经常会发生合作；合作意味着某些任务正在写寄存器的时候，另一些任务就可能会需要读正在被写的这个寄存器；为了知晓任务何时完成写寄存器操作以至于能让其他的任务进行安全的操作，我们需要进行同步；如果没有同步，就可能会发生数据竞争，一旦发生数据竞争，程序的结果可能会因为竞争发生的情况而改变；

如果某个任务需要读取另一个任务需要写的内容，那么就必须等待另一个任务将数据写入之后，才可以读取，这样就不用担心读取到错误的数据了；

在计算机中，`同步`机制是一个
