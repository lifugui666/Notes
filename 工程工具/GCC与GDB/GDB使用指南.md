# GDB使用



## 编译时的注意事项

```shell
gcc -g test.c -o test
# 如果要使用gcc记得在编译的时候加上-g命令

```

### 断点的设置

`b *0x0001`: 表示在地址0x0001处设置一个断点



### 向下执行

`step`和`stepi`：表示向下执行一步，如果下面是一个函数，会进入函数内部；stepi用于无符号调试，如果你在编译程序的时候没有选择-g参数，使用step就会报错，此时需要使用stepi



### 打印寄存器

`info reg`: 打印全部寄存器命令

`print/x $satp`：打印stap寄存器中的值。/x表示要以16进制打印



### 打印内存中的值

`x/<n/f/u> <addr>`



n、f、u是可选的参数。



`n` 是一个正整数，表示显示内存的长度，也就是说从当前地址向后显示几个地址的内容。

`f` 表示显示的格式。

s 表明要打印出来的内容是字符串。

i 表明要打印出来的内容是指令。

x 按十六进制格式显示变量。

d 按十进制格式显示变量。

u 按十六进制格式显示无符号整型。

o 按八进制格式显示变量。

t 按二进制格式显示变量。

a 按十六进制格式显示变量。

c 按字符格式显示变量。

f 按浮点数格式显示变量。

`u`表示从当前地址往后请求的字节数；如果不指定的话，GDB默认是4个bytes。u参数可以用下面的字符来代替，b表示单字节，h表示双字节，w表示四字节，g表示八字节。当我们指定了字节长度后，GDB会从指内存定的内存地址开始，读写指定字节，并把其当作一个值取出来。
